{
    "description": "Portainer management UI.",
    "environments": {
        "production": {
            "variables": [],
            "files": [],
            "services": {
                "portainer": {
                    "traefik_labels": [
                        "traefik.enable=true",
                        "traefik.http.routers.portainer.rule=Host(`portainer.internal.thinkheads.ai`)",
                        "traefik.http.routers.portainer.entrypoints=websecure",
                        "traefik.http.routers.portainer.tls=true",
                        "traefik.http.routers.portainer.tls.certresolver=internal-resolver",
                        "traefik.http.services.portainer.loadbalancer.server.port=9000",
                        "traefik.http.services.portainer.loadbalancer.server.scheme=http"
                    ]
                }
            },
            "firewall_rules": [
                {
                    "type": "in",
                    "action": "ACCEPT",
                    "source": "10.0.0.12",
                    "proto": "tcp",
                    "port": "9443",
                    "comment": "Allow Traefik to access Portainer"
                },
                {
                    "type": "in",
                    "action": "ACCEPT",
                    "source": "10.0.0.13",
                    "proto": "tcp",
                    "port": "9443",
                    "comment": "Allow Proxmox host to access Portainer API"
                },
                {
                    "type": "in",
                    "action": "ACCEPT",
                    "source": "10.0.0.13",
                    "proto": "tcp",
                    "port": "9000",
                    "comment": "Allow Proxmox host to access Portainer for initial setup"
                }
            ]
        }
    }
}